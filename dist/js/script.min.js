!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";const e=(e,t)=>{let a=document.createElement("template");e=(e=>`<li>\n            <span class="check" data-id="${e.id}"></span>\n            <span class="id">${e.id}</span>\n            <span class="restaurant">\n                <a href="${e.url}" target="_blank">\n                    <img src="${e.image}">\n                    <span>${e.name}</span> \n                </a>\n            </span>\n            <span class="status">${e.status}</span>\n            <span class="start-date">${e.startDate}</span>\n            <span class="end-date">${e.endDate}</span>\n            <span class="total">${e.total}</span>\n            <span class="fees">${e.fees}</span>\n            <span class="orders">${e.orders}</span>\n        </li>`)(e).trim(),a.innerHTML=e,t.appendChild(a.content.firstChild)},t=e=>{for(const t of e.querySelectorAll("li"))e.removeChild(t)};let a="",n=1,s="",c="",r="";const i=e=>{n=parseInt(e)},o=(e,t,a)=>{let n=document.createElement("template");e=l(e,t).trim(),n.innerHTML=e,a.appendChild(n.content.firstChild)},l=(e,t)=>{let a="invoice-change-page";return e==t&&(a+=" active"),`<li><a href="#${e}" class="${a}" data-page="${e}">${e}</a><li>`},d=(l,p)=>{l.classList.add("loading"),p.style.pointerEvents="none";const u=l.parentNode.querySelector("#pagination__count"),v=l.parentNode.querySelector("#pagination__nav");t(l),t(v),fetch("http://localhost/sklep/wp-json/createit/ivoices/?status="+a+"&page="+n+"&search="+s+"&dateStart="+c+"&dateEnd="+r,{method:"GET"}).then((e=>e.json())).then((t=>{for(let a of Object.values(t.items))e(a,l);if(t.maxPage>0){for(let e=1;e<t.maxPage+1;e++)o(e,t.currentPage,v);u.innerText=(a=t.currentPage,n=t.maxPage,`Page ${a} of ${n}`)}else u.innerText="";var a,n})).then((()=>{l.classList.remove("loading"),(e=>{for(const t of e)t.addEventListener("click",(e=>{e.preventDefault(),t.classList.toggle("active")}))})(l.querySelectorAll(".check")),p.style.pointerEvents="auto",((e,t,a)=>{const n=e.querySelectorAll("li a");for(const e of n)e.addEventListener("click",(s=>{if(s.preventDefault(),!e.classList.contains("active")){for(const e of n)e.classList.remove("active");e.classList.add("active"),i(e.dataset.page),d(t,a)}}))})(v,l,p)})).catch((e=>{}))},p=(e,t,a)=>{e.addEventListener("click",(n=>{n.preventDefault();const c=e.parentNode.querySelector("#invoice-search--field").value;c!==s&&(i(1),s=c,d(t,a))}))},u=(e,t,a)=>{e.addEventListener("click",(n=>{n.preventDefault();const s=e.parentNode.querySelector("#invoice-date-piceker--start").value,o=e.parentNode.querySelector("#invoice-date-piceker--end").value;c==s&&r==o||(s&&!o||!s&&o?alert("Correct date"):s<=o?(i(1),c=s,(e=>{r=e})(o),d(t,a)):alert("Correct date"))}))};(()=>{const e=document.querySelector("#invoices");if(!e)return;const t=e.querySelector("#result-invoice"),n=e.querySelector(".invoice-nav"),s=e.querySelectorAll("#invoice-status .toggler-status"),c=e.querySelector("#invoice-search--submit"),r=e.querySelector("#invoice-date-piceker--submit");d(t,n),((e,t,n)=>{for(const s of e)s.addEventListener("click",(c=>{if(c.preventDefault(),!s.classList.contains("active")){for(const t of e)t.classList.remove("active");var r;s.classList.add("active"),i(1),r=s.dataset.status,a=r,d(t,n)}}))})(s,t,n),p(c,t,n),u(r,t,n)})()}));
//# sourceMappingURL=script.min.js.map